import{r as n,u as c,A as g,j as s,L as j,M,P as T,a as l,T as m,b as A}from"./index-DpwKhbTS.js";const E=()=>{var d;const[a,i]=n.useState(),{data:u,isLoading:x}=c({url:g}),t=(u.results||[]).slice(0,4),{data:r}=c({url:`/movie/${a}/videos`},{enabled:!!a}),f=(d=((r==null?void 0:r.results)||[]).find(e=>e.type==="Trailer"&&e.site==="YouTube"))==null?void 0:d.key;return n.useEffect(()=>{var e;i((e=t[0])==null?void 0:e.id)},[JSON.stringify(t)]),n.useEffect(()=>{if(t.length>0){const e=setInterval(()=>{i(v=>{var o;const I=t.findIndex(p=>p.id===v);return(o=t[(I+1)%t.length])==null?void 0:o.id})},5e3);return()=>clearInterval(e)}},[t,a]),x?s.jsx(j,{}):s.jsxs("div",{className:"relative text-white",children:[t.filter(e=>e.id===a).map(e=>s.jsx(M,{data:e,trailerVideoKey:f},e.id)),s.jsx(T,{movies:t,activeMovieId:a,setActiveMovieId:i})]})},R=()=>s.jsxs("div",{children:[s.jsx(E,{}),s.jsx(l,{title:"Trending",tabs:m,prefix:"trending"},"trending"),s.jsx(l,{title:"Top Rated",tabs:A,prefix:"rated"},"rated")]});export{R as default};
