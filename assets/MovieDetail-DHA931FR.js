import{c as r,j as e,d as L,e as y,u,L as D,B as $,f as M,R as T,g as l}from"./index-DpwKhbTS.js";import{u as A}from"./useFetchDataDetail-CRX4vr4o.js";const v=(t=0,a="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(t),j=({movieInfo:t={}})=>e.jsxs("div",{className:"ml-14",children:[e.jsx("h2",{className:"mb-4 text-center text-[1.4vw] font-bold",children:"Information"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"mb-1 text-left text-[1.2vw] font-bold",children:"Original Title"}),e.jsx("p",{className:"text-left text-[1.1vw]",children:t.original_title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"mb-1 text-left text-[1.2vw] font-bold",children:"Original Country"}),e.jsx("p",{className:"grid grid-cols-10 gap-2 text-left",children:(t.origin_country||[]).map(a=>e.jsx("img",{src:`${L}${a.toLowerCase()}.png`,className:"mr-1 w-[1.5vw] object-contain"},a))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"mb-1 text-left text-[1.2vw] font-bold",children:"Status"}),e.jsx("p",{className:"text-left text-[1.1vw]",children:t.status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"mb-1 text-left text-[1.2vw] font-bold",children:"Budget"}),e.jsx("p",{className:"text-left text-[1.1vw]",children:v(t.budget)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"mb-1 text-left text-[1.2vw] font-bold",children:"Revenue"}),e.jsx("p",{className:"text-left text-[1.1vw]",children:v(t.revenue)})]})]});j.propTypes={movieInfo:r.shape({original_title:r.string,origin_country:r.array,status:r.string,budget:r.number,revenue:r.number})};const k=()=>{var n,c,o,d,m,x,h;const{id:t}=y(),{data:a,isLoading:p}=u({url:`${l}${t}?append_to_response=release_dates,credits,videos`}),{data:i}=A({url:`${l}${t}`}),{data:f,isLoading:b}=u({url:`${l}${t}/recommendations`});if(p)return e.jsx(D,{});const g=((n=a.credits)==null?void 0:n.cast)||[],N=((d=(o=(((c=a.release_dates)==null?void 0:c.results)||[]).find(s=>s.iso_3166_1==="US"))==null?void 0:o.release_dates.find(s=>s.certification))==null?void 0:d.certification)??"N/A",_=(((m=a.credits)==null?void 0:m.crew)||[]).filter(s=>["Director","Screenplay","Writer"].includes(s.job)).map(s=>({id:s.id,name:s.name,job:s.job})),w=(h=(((x=a.videos)==null?void 0:x.results)||[]).find(s=>s.type==="Trailer"))==null?void 0:h.key;return e.jsxs("div",{children:[e.jsx($,{title:i.title,genres:i.genres,overview:i.overview,poster_path:i.poster_path,release_date:i.release_date,point:Number(i.vote_average),backdrop_path:i.backdrop_path,certification:N,crews:_,trailerVideoKey:w}),e.jsx("div",{className:"bg-black text-white",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"flex-[2]",children:[e.jsx(M,{data:g}),e.jsx(T,{title:"More Like This",mediaList:f.results||[],isLoading:b})]}),e.jsx("div",{className:"flex-1",children:e.jsx(j,{movieInfo:i})})]})})]})};export{k as default};
